# ğŸš€ cursor2.com å…¬å¹³ç«äº‰å®¡æŸ¥ç³»ç»Ÿéƒ¨ç½²æŒ‡ä»¤

## âœ… é—®é¢˜å·²ä¿®å¤
- **AIè¶…æ—¶é—®é¢˜**ï¼šå·²å®ç°æ™ºèƒ½å›é€€æœºåˆ¶ï¼ˆReasoner â†’ Chatæ¨¡å‹ï¼‰
- **ç³»ç»Ÿç¨³å®šæ€§**ï¼šå¤§å¹…æå‡ï¼Œç¡®ä¿å®¡æŸ¥åŠŸèƒ½å§‹ç»ˆå¯ç”¨
- **å®¡æŸ¥è´¨é‡**ï¼šä¿æŒé«˜æ ‡å‡†ï¼ˆä¼˜å…ˆä½¿ç”¨é«˜è´¨é‡æ¨¡å‹ï¼Œå¿…è¦æ—¶å›é€€ï¼‰

---

## ğŸ“¦ ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡éƒ¨ç½²åŒ…

éƒ¨ç½²åŒ…åŠ¨æ€ç”Ÿæˆ: `competition-deploy-YYYYMMDD_HHMMSS/`

åŒ…å«çš„å…³é”®ä¿®å¤ï¼š
- âœ… ä¿®å¤åçš„ `services/deepseekService.js`ï¼ˆæ™ºèƒ½å›é€€æœºåˆ¶ï¼‰
- âœ… ä¼˜åŒ–çš„ç¯å¢ƒå˜é‡é…ç½®
- âœ… å®Œæ•´çš„éƒ¨ç½²è„šæœ¬
- âœ… è¯¦ç»†çš„æ£€æŸ¥æ¸…å•

---

## ğŸ”§ ç¬¬äºŒæ­¥ï¼šä¸Šä¼ åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨

### æ–¹æ³•1ï¼šSCPä¸Šä¼ ï¼ˆæ¨èï¼‰
```bash
# å‹ç¼©éƒ¨ç½²åŒ…
tar -czf competition_deploy.tar.gz competition-deploy-YYYYMMDD_HHMMSS/

# ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp competition_deploy.tar.gz root@cursor2.com:/tmp/

# SSHåˆ°æœåŠ¡å™¨å¹¶è§£å‹
ssh root@cursor2.com
cd /tmp
tar -xzf competition_deploy.tar.gz
cd competition-deploy-YYYYMMDD_HHMMSS
```

### æ–¹æ³•2ï¼šGitéƒ¨ç½²ï¼ˆå¦‚æœä»£ç åœ¨ä»“åº“ä¸­ï¼‰
```bash
# åœ¨æœåŠ¡å™¨ä¸Š
git clone [your-repository-url] /tmp/competition_deploy
cd /tmp/competition_deploy
```

---

## ğŸš€ ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œè‡ªåŠ¨éƒ¨ç½²

```bash
# åœ¨æœåŠ¡å™¨ä¸Šï¼Œè¿›å…¥éƒ¨ç½²ç›®å½•
cd /tmp/competition-deploy-YYYYMMDD_HHMMSS

# ç»™éƒ¨ç½²è„šæœ¬æ‰§è¡Œæƒé™
chmod +x deploy/deploy.sh

# è¿è¡Œè‡ªåŠ¨éƒ¨ç½²è„šæœ¬
./deploy/deploy.sh
```

**éƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨ï¼š**
1. âœ… å®‰è£… Node.js 18+
2. âœ… å®‰è£… PM2 è¿›ç¨‹ç®¡ç†å™¨
3. âœ… é…ç½® Nginx åå‘ä»£ç†
4. âœ… è®¾ç½®é˜²ç«å¢™è§„åˆ™
5. âœ… åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
6. âœ… å¯åŠ¨åº”ç”¨ç¨‹åº
7. âœ… é…ç½®è‡ªåŠ¨å¯åŠ¨

---

## ğŸ¯ ç¬¬å››æ­¥ï¼šéªŒè¯éƒ¨ç½²

### 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€
```bash
# æŸ¥çœ‹PM2è¿›ç¨‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
pm2 logs fair-competition-review

# æ£€æŸ¥NginxçŠ¶æ€
systemctl status nginx
```

### 2. æµ‹è¯•åŠŸèƒ½
1. **è®¿é—®ä¸»é¡µ**ï¼šhttp://cursor2.com
2. **æµ‹è¯•API**ï¼šhttp://cursor2.com/test-api
3. **ä¸Šä¼ æµ‹è¯•æ–‡æ¡£**ï¼šéªŒè¯AIå®¡æŸ¥åŠŸèƒ½
4. **æ£€æŸ¥å“åº”é€Ÿåº¦**ï¼šç¡®ä¿åœ¨åˆç†æ—¶é—´å†…å®Œæˆ

### 3. æ€§èƒ½éªŒè¯
```bash
# æ£€æŸ¥èµ„æºä½¿ç”¨
htop
free -h
df -h

# æµ‹è¯•å¹¶å‘æ€§èƒ½ï¼ˆå¯é€‰ï¼‰
ab -n 100 -c 10 http://cursor2.com/
```

---

## ğŸ”§ ç¬¬äº”æ­¥ï¼šSSLè¯ä¹¦é…ç½®ï¼ˆå¯é€‰ä½†æ¨èï¼‰

### ç”³è¯·é˜¿é‡Œäº‘å…è´¹SSLè¯ä¹¦
1. ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°
2. è¿›å…¥SSLè¯ä¹¦æœåŠ¡
3. ç”³è¯·å…è´¹è¯ä¹¦ï¼ˆcursor2.comï¼‰
4. ä¸‹è½½è¯ä¹¦æ–‡ä»¶

### é…ç½®HTTPS
```bash
# åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºè¯ä¹¦ç›®å½•
mkdir -p /etc/nginx/ssl

# ä¸Šä¼ è¯ä¹¦æ–‡ä»¶ï¼ˆæ›¿æ¢ä¸ºå®é™…æ–‡ä»¶ï¼‰
scp cursor2.com.pem root@cursor2.com:/etc/nginx/ssl/
scp cursor2.com.key root@cursor2.com:/etc/nginx/ssl/

# è¿è¡ŒSSLé…ç½®è„šæœ¬
./deploy/configure-ssl.sh
```

---

## ğŸ“‹ å…³é”®é…ç½®è¯´æ˜

### æ™ºèƒ½å›é€€æœºåˆ¶
ç³»ç»Ÿç°åœ¨å…·å¤‡æ™ºèƒ½å›é€€åŠŸèƒ½ï¼š
1. **ä¼˜å…ˆä½¿ç”¨DeepSeek-Reasoner**ï¼ˆé«˜è´¨é‡åˆ†æï¼Œ45ç§’è¶…æ—¶ï¼‰
2. **è‡ªåŠ¨å›é€€åˆ°DeepSeek-Chat**ï¼ˆå¿«é€Ÿç¨³å®šï¼Œ3-10ç§’ï¼‰
3. **æ— ç¼ç”¨æˆ·ä½“éªŒ**ï¼ˆç”¨æˆ·ä¸ä¼šæ„ŸçŸ¥åˆ°å›é€€è¿‡ç¨‹ï¼‰

### ç¯å¢ƒå˜é‡é…ç½®
```bash
# ä½ç½®ï¼š/var/www/competition/.env
DEEPSEEK_API_KEY=sk-e49568e47ba74f439e0004358166dbe1
SILICONFLOW_API_KEY=sk-ndqddvkvqsfrvirhauqtrjejiwfawokxzakscpieqelbuhik
AI_PROVIDER=DEEPSEEK
AI_TIMEOUT=120000
NODE_ENV=production
```

---

## ğŸ†˜ å¸¸è§é—®é¢˜æ’æŸ¥

### 1. AIè°ƒç”¨è¶…æ—¶ï¼ˆå·²ä¿®å¤ï¼‰
**ç°è±¡**ï¼šä¸Šä¼ æ–‡ä»¶åå¡åœ¨"AIåˆ†æä¸­"
**è§£å†³**ï¼šâœ… å·²é€šè¿‡æ™ºèƒ½å›é€€æœºåˆ¶è§£å†³

### 2. æ–‡ä»¶ä¸Šä¼ å¤±è´¥
**æ£€æŸ¥**ï¼š
```bash
# æ£€æŸ¥ä¸Šä¼ ç›®å½•æƒé™
ls -la /var/www/competition/uploads
# æ£€æŸ¥Nginxé…ç½®
nginx -t
# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/cursor2.error.log
```

### 3. åº”ç”¨æ— æ³•å¯åŠ¨
**æ£€æŸ¥**ï¼š
```bash
# æŸ¥çœ‹PM2æ—¥å¿—
pm2 logs fair-competition-review --lines 50
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tulnp | grep :3000
# é‡å¯åº”ç”¨
pm2 restart fair-competition-review
```

### 4. åŸŸåæ— æ³•è®¿é—®
**æ£€æŸ¥**ï¼š
```bash
# DNSè§£æ
nslookup cursor2.com
# é˜²ç«å¢™çŠ¶æ€
firewall-cmd --list-all
# Nginxé…ç½®
nginx -t && systemctl status nginx
```

---

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### æ—¥å¸¸ç»´æŠ¤å‘½ä»¤
```bash
# æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
pm2 monit

# é‡å¯åº”ç”¨
pm2 restart fair-competition-review

# æ›´æ–°åº”ç”¨ï¼ˆæœ‰æ–°ç‰ˆæœ¬æ—¶ï¼‰
cd /var/www/competition
git pull  # å¦‚æœä½¿ç”¨Git
pm2 reload fair-competition-review

# æŸ¥çœ‹è®¿é—®æ—¥å¿—
tail -f /var/log/nginx/cursor2.access.log

# å¤‡ä»½æ•°æ®
cp -r /var/www/competition /backup/competition_$(date +%Y%m%d)
```

### æ€§èƒ½ç›‘æ§
- **å†…å­˜ä½¿ç”¨**ï¼šåº”ä¿æŒåœ¨1GBä»¥ä¸‹
- **CPUä½¿ç”¨**ï¼šæ­£å¸¸æƒ…å†µä¸‹<30%
- **å“åº”æ—¶é—´**ï¼šæ–‡ä»¶å®¡æŸ¥åº”åœ¨10-60ç§’å†…å®Œæˆ
- **é”™è¯¯ç‡**ï¼šåº”<1%

---

## ğŸ‰ éƒ¨ç½²å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] âœ… æœåŠ¡å™¨åŸºç¡€ç¯å¢ƒå®‰è£…å®Œæˆ
- [ ] âœ… åº”ç”¨ç¨‹åºå¯åŠ¨æˆåŠŸï¼ˆPM2çŠ¶æ€æ­£å¸¸ï¼‰
- [ ] âœ… Nginxé…ç½®ç”Ÿæ•ˆï¼ˆåå‘ä»£ç†æ­£å¸¸ï¼‰
- [ ] âœ… é˜²ç«å¢™è§„åˆ™é…ç½®æ­£ç¡®
- [ ] âœ… åŸŸåè§£ææ­£ç¡®
- [ ] âœ… ä¸»é¡µå¯ä»¥æ­£å¸¸è®¿é—®
- [ ] âœ… æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½æ­£å¸¸
- [ ] âœ… AIå®¡æŸ¥åŠŸèƒ½æ­£å¸¸ï¼ˆæ™ºèƒ½å›é€€æœºåˆ¶å·¥ä½œï¼‰
- [ ] âœ… æŠ¥å‘Šå¯¼å‡ºåŠŸèƒ½æ­£å¸¸
- [ ] âœ… ç³»ç»Ÿæ€§èƒ½ç¨³å®š
- [ ] ğŸ”„ SSLè¯ä¹¦é…ç½®ï¼ˆå¯é€‰ï¼‰
- [ ] ğŸ”„ ç›‘æ§å’Œå‘Šè­¦é…ç½®ï¼ˆå¯é€‰ï¼‰

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœåœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. **æ£€æŸ¥æ—¥å¿—**ï¼š
   ```bash
   pm2 logs --lines 100
   tail -f /var/log/nginx/cursor2.error.log
   ```

2. **é‡å¯æœåŠ¡**ï¼š
   ```bash
   pm2 restart fair-competition-review
   systemctl restart nginx
   ```

3. **å›æ»šæ“ä½œ**ï¼š
   ```bash
   # å¦‚æœéœ€è¦å›æ»šåˆ°ä¹‹å‰ç‰ˆæœ¬
   pm2 stop fair-competition-review
   # æ¢å¤å¤‡ä»½æ–‡ä»¶
   systemctl restart nginx
   ```

**ğŸ¯ å…³é”®æˆæœï¼šAIè¶…æ—¶é—®é¢˜å·²å®Œå…¨è§£å†³ï¼Œç³»ç»Ÿç¨³å®šæ€§å¤§å¹…æå‡ï¼**